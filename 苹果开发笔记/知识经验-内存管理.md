

基本原理

采用alloc/new/copy/mutableCopy所创建的对象，要release/autorelease
如果方法的返回值是一个对象，这个对象要放入自动释放池；类方法创建的对象，系统会自动放入自动释放池
方法的实参不用release，可以认为系统把实参放入自动释放池
创建单例的方法中，单例不能release/autorelease



页面跳转中，present/push一个vc后，系统会在dismiss/pop里负责释放，无需为present/push release一次
添加控件中，addSubviews（或insertSubview: atIndex:）一个控件后，系统会在[super dealloc]里负责释放释放里面的subviews（对里面的所有subviews发送一次release消息），也可以通过[xxx removeFromSuperview]释放指定控件（对里面的所有subviews发送一次release消息），无需为addSubviews（或insertSubview: atIndex:）release一次



属性的作用：1.提升作用域 2.延长生命周期（属性的生命周期最多只能延长到对象dealloc，所以最终需要在dealloc中release）
dealloc中属性的写法：
[_xxx release];
_xxx = nil;
注：delegate关键字为assign，所以无需release，置nil即可
注：尽量不要用self.xxx，因为self.xxx = nil调用set方法（前提：属性关键字是retain/copy），会先release再置nil，容易迷惑



delegate的正确置nil写法：委托方和被委托方的dealloc都要置nil



只需要为alloc/copy/retain进行release;其他诸如present/push/addSubviews等，只需要在适当地方写上对应的dismiss/pop/[super dealloc]即可，系统在执行这些语句后负责释放内存，无需写release.



如果在一个方法里面创建一个自定义网络请求类的对象，发送获取数据的消息，则不能在这个方法release这个对象，必须把该对象提升为属性，在dealloc中release。




内存泄露：一个对象或变量在使用完成后没有释放掉
僵尸对象：过度释放对象


************************************************************************************************************************************************
************************************************************************************************************************************************


响应内存警告



AppDelegate
- (void)applicationDidReceiveMemoryWarning:(UIApplication *)application
{
    NSLog(@"AppDelegate中调用applicationDidReceiveMemoryWarning:");
}


ViewController
- (void)didReceiveMemoryWarning
{
    NSLog(@"ViewController中didReceiveMemoryWarning调用");
    [super didReceiveMemoryWarning];

   //释放成员变量，注意要放在[super didReceiveMemoryWarning];之后
    [_listTeams release];
}


其他
监听通知UIApplicationDidReceiveMemoryWarningNotification

模拟器模拟内存警告：硬件—模拟内存警告

************************************************************************************************************************************************
************************************************************************************************************************************************


ios堆栈介绍
http://mikixiyou.iteye.com/blog/1595230


￼
