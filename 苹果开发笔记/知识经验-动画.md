day15
{AM1}
一、	动画(与autolayout冲突，要关掉)
	1.	基本概念
		把一堆相似的静止的图片快速播放

		人眼对动画的识别率
		25 - 30 / s
		25 - 30 帧 / s

		帧：一个动画改变的时候，中间所补齐的静止的状态
		帧频：每秒多少帧
		fps

	2.	UIImage 动画
		[Demo1]
		animatedImageNamed:duration:

		什么时候用？
		非常小的可循环的不跟随数据改变而改变的动画

		由美工/动画人员 提供帧图片

	3.	NSTimer
		什么是？
			定时器，每隔一段时间调用一个消息
		基本用法
			[Demo2]
		[Demo2:制作连线中...]

	{AM2}
	4.	匀速动画
		[G01]
		动画公式
			当前值 = 开始值 + 当前的改变量
			当前的改变量 / 当前的帧数 = 总体改变量 / 总帧数
			当前的改变量 = 当前的帧数 * 总体改变量 / 总帧数

			总体改变量 = 结束值 - 开始值
			总帧数 = 设定帧频 * 预期动画的时间

			当前值 = 开始值 +  当前的改变量
			当前值 = 开始值 +  当前的帧数 * (结束值 - 开始值) / (帧频 * 动画时长)
		[Demo3]
		[Demo4练习]
		[Demo4练习答案]

	5.	渐进（变速）动画
		[G02]
		动画公式
			当前值 = 上一次的值 + 改变量
			改变量 = 间距 * 渐进因子
			间距 = 目标值 - 上一次值
			当前值 = 上一次的值 + (目标值 - 上一次值) * 渐进因子
		[Demo4 改公式]
		[Demo5练习]
		[Demo5答案]

	6.	UIView 动画
		[Demo6]
		1)	是什么？
			是UIKit 对底层Core Animation框架的包装
			可以轻松的制作出动画
		2)	基本步骤
			1.	先给出初始状态
			2.	[UIView animate./......];
			3.	把结束状态写在block里
		3)	补间曲线
			UIViewAnimationOptionCurveEaseInOut   		先加速再减速  
   	 		UIViewAnimationOptionCurveEaseIn         	加速   
    		UIViewAnimationOptionCurveEaseOut           减速
    		UIViewAnimationOptionCurveLinear 			匀速

		4)	什么能够被补间
			view的以下属性可以支持UIView的动画
			.frame
			.bounds
			.center
			.transform
			.alpha
			等

		5)	高级设置

			高频：
			UIViewAnimationOptionAllowUserInteraction      = 1 <<  1, // turn on user interaction while animating
		    	动画的同时允许不允许用户交互

		    UIViewAnimationOptionBeginFromCurrentState     = 1 <<  2, // start all views from current value, not initial value
		    	动画要不要从当前的位置开始
		    	如果不选：跟之前动画冲突的话，会从之前的动画的结束状态开始

		    UIViewAnimationOptionRepeat                    = 1 <<  3, // repeat animation indefinitely
		    	是否需要重复

		    UIViewAnimationOptionAutoreverse               = 1 <<  4, // if repeat, run animation back and forth
		    	重复的基础之上，是否需要反向

		    中频：
		    UIViewAnimationOptionLayoutSubviews            = 1 <<  0,
		    	动画的同时要不要因为大小的改变而对视图进行布局

		    UIViewAnimationOptionAllowAnimatedContent      = 1 <<  7, // animate contents (applies to transitions only)
		    	动画的同时要不要redraw被动画的视图

		    低频：
		    UIViewAnimationOptionOverrideInheritedDuration = 1 <<  5, // ignore nested duration
		    	当动画语句嵌套时，是否继承外面语句的设置的时间
		    UIViewAnimationOptionOverrideInheritedCurve    = 1 <<  6, // ignore nested curve
		    	当动画语句嵌套时，是否继承外面语句的设置的曲线
		    UIViewAnimationOptionOverrideInheritedOptions  = 1 <
				当动画语句嵌套时，是否继承外面语句的设置

			UIViewAnimationOptionShowHideTransitionViews   = 1 <<  8, // flip to/from hidden state instead of adding/removing

		6)	旋转问题
			[Demo7]



作业
	1.	飞机点哪飞哪

	2.	购物车
		窗口左上角有一个UIImageView存放图片
		点击图片后，图片旋转掉落到屏幕底端中央并缩小
		原图仍然保留在原有位置上。

		相关参数：
		缩小0.2
		旋转45度
		位置：屏幕底端中央

		提示
		在按钮点击时增加一个临时的UIImageView
		tempImageView.frame = self.imageView.frame;
		...

		在动画结束后，移除
		[tempImageView removeFromSuperview];

	3.	TMusic 音乐识别贯穿
		新增界面
		TRMusicRecognizerViewController

		view层次结构(不是VC的属性结构)
		view:UIView
		+	quanView:UIView	(scale:0.5->1, alpha:0->1)
			+	quan03ImageView:UIImageView <quan03.png> (顺时旋转:4秒/圈)
			+	quan02ImageView:UIImageView <quan01_02.png> (顺时旋转:1.3秒/圈)
			+	quan01ImageView:UIImageView <quan01_01.png> (逆时旋转:1.5秒/圈)
		+	tingView:UIView (scale:1->0.5)
			+	不用连接Outlet:UIImageView <tingBig.png>
			+	tingCdImageView:UIImageView <recogniz_cd.png> (顺时旋转:8秒/圈) [x:46,y:25]
			+	不用连接Outlet:UIImageView <recogniz_zhen.png> [x:46,y:25]


day16
{AM1}
一、	Core Animation
	1.	是什么？
		底层的动画框架

	2.	框架对比

		UIKit				UI		UIView			AppKit				NS		NSView
		(Cocoa Touch = UIKit + Foundation)			(Cocoa = AppKit + Foundation)
		核心：让好看又能动的东西 在手机上和用户可以交互
		OC级别：
		+	UIControl/UIView子类
		+	UITableView/UICollectionView
		+	UIGestureRecognizer/UIView touch...


		Core Animation		CA		CALayer
		(Quartz Core)
		核心：让绘制出来的东西，变得更好看，或者动起来
		C级别：
		UIKit OC级别的简化：
		+	UIView transform
		+	UIView animate
		+	autoresizing
		+	autolayout

		Core Graphic		CG		CGContextRef
		(Quartz 2D)
		核心：绘制
		C级别：线、填充颜色、文字、阴影、图像
		UIKit OC级别的简化类：
		+	UIColor
		+	UIBezierPath
		+	NSString(UIKit)

		[G01]

	3.	UIView vs CALayer
		UIKit					Core Animation
		UIView					CALayer
					view.layer
		addSubview				addSublayer
		frame					frame
		autoresizing			autoresizing
		transform 2D			transform 3D
		animate					animate 3d动画 颜色动画
								增加一个圆角边
								增加一个阴影
								粒子效果(可以理解为随机)



	4.	系统/硬件 绘制api

	5.	Layer
		1)	设置圆角
		2)	遮罩（蒙板）
		3)	CATransform3D
			内部4x4矩阵
		[Demo1]-可添加slider设置里面的值

	6.底层C级别语言涉及到内存管理，所以不要轻易用底层语言编写，除非OC包装的代码没有想要功能并学会底层内存管理
		例如：CGContextRef——带ref的一般要管理内存但不带retain/release——CGContextRefRetain(CGContextRef)函数

{AM2}





	
