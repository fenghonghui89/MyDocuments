

xcode调试工具


符号断点
方法名要区分大小写，有传参的，就要带有冒号

异常断点
如果不设置，则崩溃后会一般跳转到main函数
例：没有写接收通知后触发的方法，则崩溃后会跳转到发送通知的代码
on Throw：抛出时触发
on Catch：捕获时触发

下方调试窗口
调试工具栏：隐藏、继续执行、单步跳过、单步进入、单步跳出、模拟位置
变量查看窗口：Auto-经常使用的变量、Local-本地变量、All …-全部变量，S是静态，R是寄存器，G是全局
跳转栏：可查看线程的堆栈，如果某个方法没有源代码，将显示汇编语言
右侧导航栏也可以显示，但只是大概的调用堆栈，没有上一种查看方式详细


************************************************************************************************************************************************
************************************************************************************************************************************************


日志输出与断言输出


NSAssert宏（中断后要继续运行几下才会有输出）
NSAssert(i<9, @"超出范围，i:%d,%d,%d,%d,%d,%d ~",i,y,a,b,c,d);//条件，条件为NO时的描述信息，参数（可接多个）
NSParameterAssert(condition)跟NSAssert差不多，只是输出的内容为所设定的条件

release模式下，移除NSLog和NSAssert宏

scheme
scheme是一套编译参数环境，是一些target的集合，它们配置不同的参数，也可能包括了一些可运行的测试集合。新的scheme，只包含默认的target（且不含测试单元），可以手动添加其他target
其中debug是为调试编译而配置的，release是为发布编译而配置的

步骤：创建一个新的release模式的scheme—配置移除

移除NSAssert宏
build settings—Preprocessor Macros—release配置添加NS_BLOCK_ASSERTIONS（移除NSAssert宏）

移除NSLog
1、重新定义一个根据条件编译的宏—debug模式下代替NSLog，release模式下不起作用；为了能在工程中所有源代码中使用这个宏，需要在<工程名>-Prefix.pch中添加
#ifdef DEBUG
#   define DLog(...) NSLog(__VA_ARGS__)
#else
#   define DLog(...)
#endif

2、build settings—Preprocessor Macros—debug配置添加DEBUG（或DEBUG=1）


************************************************************************************************************************************************
************************************************************************************************************************************************


LLDB调试工具


三种编译器
GCC：比较古老的编译器，调试工具是GDB
LLVM GCC：调试工具是LLDB
Apple LLVM：常用，调试工具是LLDB

断点命令—可以设置文件行断点和符号断点；可以在debug和release模式下用
设置断点：文件行断点breakpoint set --file NoteManager.m --line 44；符号断点breakpoint set --selector deleteData:
查看断点：breakpoint list（可查看断点编号）
删除断点：breakpoint delete 4 5（断点编号）
单步进入：thread step-in（会进入方法或函数）
跳出方法：thread step-out
单步跳过：thread step-over（不会进入方法或函数）
继续运行：thread continue/process continue（到下一个断点）

观察点命令—只能在debug下创建；局部变量要在作用域内才能创建
设置断点：watchpoint set variable b
查看断点：watchpoint list（可查看断点编号）
删除断点：watchpoint delete 4 5（断点编号）

查看变量和计算表达式命令—release模式下可能看不到变量的值
查看本地变量：查看全部frame variable 查看指定frame variable b
查看全局变量：查看全部target variable 查看指定target variable abc（没有被使用的全局变量无法输出数值）

计算对象数据类型的表达式
输出对象：expr -o -- ((Note *)self.noteData[0])；po ((Note *)self.noteData[0])(po与expr类似，会调用对象的description方法)
输出对象的属性：的expr -o -- ((Note *)self.noteData[0]).date





************************************************************************************************************************************************
************************************************************************************************************************************************


异常捕获



修改main.m如下
    @try {
        @autoreleasepool {
            return UIApplicationMain(argc, argv, nil, NSStringFromClass([HFAppDelegate class]));
        }
    }
    @catch (NSException *exception) {
        NSLog(@"输出Stack Trace:%@",[exception name]);
        NSLog(@"输出Stack Trace:%@",[exception reason]);
        NSLog(@"输出Stack Trace:%@",[exception userInfo]);
        NSLog(@"输出Stack Trace:%@",[exception callStackSymbols]);
    }
    @finally {
        nil;
    }

分析堆栈报告
从下往上阅读，其中每一行有五部分：堆栈输出编号；方法所属的类或库或框架；调用的内存地址；方法名；代码偏移量（真机调试下为行号）




************************************************************************************************************************************************
************************************************************************************************************************************************


编译器告警


http://blog.csdn.net/mamong/article/details/24542107
http://www.tuicool.com/articles/MbuIj2
